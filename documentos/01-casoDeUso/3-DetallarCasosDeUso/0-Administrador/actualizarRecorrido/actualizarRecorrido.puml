@startuml actualizarRecorrido

skinparam linetype polyline

state actualizarRecorrido as "actualizarRecorrido()" {

    state " " as EditandoDatos
    state " " as GuardandoDatos 

    [*] -[#green]-> EditandoDatos 
    note on link
    <b>Administrador</b> solicita editar recorrido
    end note    
    
    EditandoDatos -[#green]-> GuardandoDatos
    note on link
    <b>Sistema</b> presenta datos de edición
    • Nombre del recorrido, descripción
    • Puntos de interés (POI) y orden
    • Punto de inicio y punto final
    
    <b>Sistema</b> permite solicitar:
    • modificar puntos y orden
    • añadir/eliminar puntos de interés
    • guardar recorrido
    • cancelar edición
    end note
    
    GuardandoDatos -[#green]-> EditandoDatos
    note on link
    <b>Administrador</b> solicita modificar campos tras validación fallida
    end note
    
    GuardandoDatos -[#green]-> [*]
    note on link
    <b>Administrador</b> solicita guardar y salir
    end note

    GuardandoDatos -[#red]-> [*]
    note on link
    <b>Administrador</b> solicita cancelar edición
    end note

}

actualizarRecorrido -[#green]-> RECORRIDOS_ABIERTO
note on link
abrirRecorridos()
end note

actualizarRecorrido -[#red]-> RECORRIDOS_ABIERTO
note on link
cancelar edición
end note

@enduml
