@startuml
skinparam linetype polyline

state cambiarEspacio as "cambiarEspacio()" {
    state " " as SolicitandoCambio
    state SeleccionandoUbicacion
    state c <<choice>>

    [*] -[#green]-> SolicitandoCambio 
    note on link
    <b>Visitante</b> solicita cambiar 
                     su ubicación actual
    end note    
    
    SolicitandoCambio -[#green]-> SeleccionandoUbicacion
    note on link
    <b>Sistema</b> presenta
    • Opciones de ubicación
    • Mapa interactivo
    end note
    
    SeleccionandoUbicacion -[#green]-> c 
    note on link
    <b>Visitante</b> solicita
    • confirmar nueva ubicación
    • cancelar cambio
    end note
    
        c -[#green]-> [*]
    note on link
    confirmar / cancelar
    end note
}

' ← CONTEXTUALIZADO correctamente:
ESPACIO_ABIERTO --> cambiarEspacio : cambiarDeEspacio()
cambiarEspacio --> ESPACIO_ABIERTO : ubicacionConfirmada()
@enduml